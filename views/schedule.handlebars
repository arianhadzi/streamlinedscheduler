<div id="userView">
    <p id="welcome">Welcome {{firstName}} {{lastName}}, the time is now: {{currentTime}} {{timezone}}. Your role in the system is: {{role}}.</p>
    <p>Schedule: {{schedule.title}}</p>
</div>

<button id="create-event">Create an Event</button>
<div id="calendar"></div>

<script src='/fullcalendar/index.global.js'></script>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    var calendarEl = document.getElementById('calendar');
    var events = [];

    // Loop through the events array in the schedule
    {{#each schedule.events}}
    events.push({
      title: "{{this.title}}",
      start: "{{this.startTime}}",
      end: "{{this.endTime}}"
    });
    {{/each}}

    var calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'list',
      duration: { days: 7 },
      events: events
    });
    calendar.render();

    var createEventBtn = document.getElementById('create-event');
    createEventBtn.addEventListener('click', function() {
      window.location.href = '/create-event';
    });

  });
</script>

{{#ifeq role 'admin'}}
<p id="adminLink"><a href="/admin">Admin Page</a></p>
{{/ifeq}}

<p id="logoutLink"><a href="/logout">Logout</a></p>